"use strict";function getGameDescription(a){var b=new XMLHttpRequest,c="http://www.jrtgad.comli.com/cgi-bin/search.php?description="+this.dataset.id;$id("categorias");b.open("GET",c),b.onreadystatechange=function(){4===b.readyState&&200===b.status&&a.call(a,b)},b.send(null)}function setGameDescription(a){var b=$id("categorias").cloneNode(!1),c=ns2.create("li","","","",b),d=ns2.create("img","","","",c);return alert(a),ns2.generateItem(b,JSON.parse(a.responseText)),c.dataset.id=a.id,d.src=a.img,ns2.create("span","","",a.name,c),ns2.create("span","","",a.prize+" €",c),b.appendChild(c),b}function $id(a){return document.getElementById(a)}function getresource(a){var b=new XMLHttpRequest,c="http://www.jrtgad.comli.com/cgi-bin/search.php"+$id("inputSearch").value;b.open("GET",c),b.onreadystatechange=function(){4===b.readyState&&200===b.status&&a.call(a,b)},b.send(null)}function showjson(a){alert(a)}function process(a){var b=showjson;b.call(b,a)}function goToRegister(){document.forms[0].submit()}function searchBBDD(){var a,b=$id("inputSearch").value;""===b&&Array.from($id("items").children).forEach(function(a){a.remove()}),a=new XMLHttpRequest,a.onreadystatechange=function(){var b=$id("items").cloneNode(!1);4===a.readyState&&200===a.status&&(JSON.parse(a.responseText).reduce(function(a,b){return ns2.generateItem(a,b)},b),$id("searchLi").replaceChild(b,$id("items")))},a.open("GET","http://www.jrtgad.comli.com/cgi-bin/search.php?q="+b),a.send(null)}var ns2=function(a){return a.SAMPLETYPE="json",a.FILESDIR="files",a.create=function(a,b,c,d,e){var f=document.createElement(a);return f.id=b,f.className=c,f.appendChild(document.createTextNode(d)),e.appendChild(f),f},a.generateItem=function(b,c){var d=a.create("li","","","",b),e=a.create("img","","","",d);return d.dataset.id=c.id,e.src=c.imgMin,a.create("span","","",c.name,d),a.create("span","","",c.prize+" €",d),b.appendChild(d),d.addEventListener("click",getGameDescription.bind(d,setGameDescription),!1),b},a}({});window.addEventListener("load",function(){var a=getresource.bind(this,process);$id("inputSearch").addEventListener("keyup",searchBBDD,!1),$id("lupa").onclick=a,$id("register").addEventListener("click",goToRegister,!1)},!1);