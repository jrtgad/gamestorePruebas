"use strict";function $(a){return document.getElementById(a)}function validateName(){ns.validatePattern(ns.NAME_PATTERN,$("userName"))}function validateMail(){ns.validatePattern(ns.MAIL_PATTERN,$("userMail"))}function validatePass(){ns.validatePattern(ns.PASS_PATTERN,$("pass"))}function validateURL(){ns.validatePattern(ns.URL_PATTERN,$("url"))}function confirmPass(){$("passConfirmation").className=ns.comparePassInputs($("pass"),$("passConfirmation"))}function checkCountry(){ns.destroyEmptyOption(),"es"===$("country").value?($("postalCode").className=ns.RESET_CLASS,$("titlesForm").children[8].className=""):($("postalCode").className=ns.HIDDEN_CLASS,$("titlesForm").children[8].className=ns.HIDDEN_CLASS)}function getCheckState(){$("siteConditions").className=$("siteConditions").unchecked?ns.INVALID_CLASS:ns.VALID_CLASS}function validatePostalCode(){ns.validatePattern(ns.POSTALCODE_PATTERN,$("postalCode"))}function appendSelectCountry(){ns.COUNTRIES.forEach(function(a){var b=document.createElement("option");b.innerHTML=a,b.value=a.substring(0,2).toLowerCase(),$("country").appendChild(b)})}function validateAddress(){ns.validatePattern(ns.ADDRESS_PATTERN,$("address"))}function checkEnabled(){$("checkbox").className=$("checkbox").checked?ns.VALID_CLASS:ns.INVALID_CLASS}function removeCookiesDiv(){document.body.removeChild($("modalCookies"))}function addEvents(){appendSelectCountry(),ns.reset_form(),$("userName").addEventListener("keyup",validateName,!1),$("userMail").addEventListener("keyup",validateMail,!1),$("country").addEventListener("change",checkCountry,!1),$("pass").addEventListener("keyup",validatePass,!1),$("url").addEventListener("keyup",validateURL,!1),$("passConfirmation").addEventListener("keyup",confirmPass,!1),$("checkbox").addEventListener("change",checkEnabled,!1),$("postalCode").addEventListener("keyup",validatePostalCode,!1),$("address").addEventListener("keyup",validateAddress,!1),$("cookies").addEventListener("click",removeCookiesDiv,!1),$("limpiar").addEventListener("click",ns.reset_form,!1),$("send").addEventListener("click",ns.validate,!1)}var ns=function(a){return a.NAME_PATTERN=/^[a-zñáéíóú\-\'\.]+(?:\s[a-zñáéíóú\-\'\.]+)+$/i,a.MAIL_PATTERN=/^[\w.]+@[\w.]+\.[\w]{2,6}$/i,a.PASS_PATTERN=/^.*(?=.{6,})(?!.*\s)(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\!\@\#\$\%\^\&\*\(\)\-\=\¡\£\_\+\`\~\.\,<\>\/\?\;\:\'\"\\\|\[\]\{\}]).*$/,a.URL_PATTERN=/^(https?:\/\/)?(www.)?([\da-z\.|\-]+)\.([a-z\.]{2,6})([\/\w \.\-]*)*\/?$/i,a.POSTALCODE_PATTERN=/^([1-4][0-9]{4}|5[0-2][0-9]{3}|0[1-9][0-9]{3})$/,a.ADDRESS_PATTERN=/^.*$/i,a.COUNTRIES=["Alemania","Bélgica","Dinamarca","España","Francia","Grecia","Holanda","Italia","Suecia","Reino Unido"],a.REQUIRED_INPUTS=["userName","userMail","pass","passConfirmation","checkbox"],a.REST_OF_INPUTS=["url","address","country","postalCode","comments"],a.ERROR="Rellene correctamente los campos",a.RESET_CLASS="reset",a.VALID_CLASS="valid",a.INVALID_CLASS="invalid",a.HIDDEN_CLASS="hidden",a.destroyEmptyOption=function(){"empty"===$("country").firstChild.value&&$("country").removeChild($("country").firstChild)},a.createEmptyOption=function(){var a=document.createElement("option");a.innerHTML="Elija",a.value="empty",$("country").insertBefore(a,$("country").firstChild)},a.reset_form=function(){a.REQUIRED_INPUTS.forEach(function(a){$(a).value="",$(a).className="reset",$(a).checked=!1}),a.REST_OF_INPUTS.forEach(function(b){$(b).value="","postalCode"===$(b).id?($(b).className=a.HIDDEN_CLASS+" "+a.RESET_CLASS,$("titlesForm").children[8].className=a.HIDDEN_CLASS):("country"===b?(a.createEmptyOption(),$("country").selectedIndex=$("country").firstChild,$("country").className=a.VALID_CLASS):$(b).className="reset",$("error")&&$("registro").removeChild($("error")))})},a.validatePattern=function(b,c){0===c.value.length?c.className=a.RESET_CLASS:b.test(c.value)?c.className=a.VALID_CLASS:c.className=a.INVALID_CLASS},a.comparePassInputs=function(b,c){var d;return d=""===c.value||""===b.value?a.RESET_CLASS:b.value!==c.value?a.INVALID_CLASS:a.VALID_CLASS},a.validate=function(){if(a.REQUIRED_INPUTS.every(function(a){return $(a).className.match("(\\s|^)valid(\\s|$)")})&&a.REST_OF_INPUTS.every(function(a){return""!==$(a).value?$(a).className.match("(\\s|^)valid(\\s|$)"):!0}))document.forms[1].submit();else{$("error")&&$("registro").removeChild($("error"));var b=document.createElement("p");b.id="error",b.className="modalWindow",b.innerHTML=a.ERROR,$("registro").appendChild(b)}},a}({});window.onload=addEvents;